<!DOCTYPE html>
<html>
<head>
	<title>SparkFlow - Admin Management Dashboard - Profile</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<style>
		body {
			font-family: Arial, sans-serif;
			padding-top: 50px;
		}

		header {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			z-index: 999;
		}

		.card {
			border: none;
			border-radius: 10px;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		}

		h1 {
			font-size: 36px;
			margin-bottom: 20px;
			color: #007bff;
		}

		.btn-custom {
			background-color: #007bff;
			color: #fff;
			border-color: #007bff;
		}

		.btn-custom:hover {
			background-color: #0069d9;
			border-color: #0062cc;
		}
	</style>
</head>
<body>
	<header>
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
			<a class="navbar-brand" href="/manager/manager">SparkFlow</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button> 
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/manager/managerprofile">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/admin/logout">Logout</a>
          </li>
        </ul>
      </div>
		</nav>
	</header>

	<div class="container mt-5">
		<h1>Profile</h1>
		<% if (typeof error !== 'undefined' && error) { %>
			<div class="alert alert-danger" role="alert">
			  <%= error %>
			</div> 
		  <% } else if (typeof success !== 'undefined' && success) { %>
			<div class="alert alert-success" role="alert">
			  <%= success %>
			</div>
		  <% } %>
		      

		<div class="row">
			<div class="col-md-6"> 	
					<div class="mb-3">
						<label for="inputName" class="form-label">Name</label>
						<input type="text" class="form-control" id="inputName" value="<%= user.firstname %> <%= user.lastname %>" readonly>
					</div>
					<div class="mb-3">
						<label for="inputEmail" class="form-label">Email address</label>
						<input type="email" class="form-control" id="inputEmail" value="<%= user.email %>" readonly>
					</div> 
			</div>
			<div class="col-md-6">
				<form method="POST" action="/manager/updatepassword">
					<div class="mb-3">
					  <label for="inputOldPassword" class="form-label">Old password</label>
					  <div class="input-group">
						<input type="password" class="form-control" id="inputOldPassword" name="oldPassword" required>
						<div class="input-group-append">
						  <button class="btn btn-outline-secondary" type="button" id="toggleOldPassword">Show</button>
						</div>
					  </div>
					</div>
					<div class="mb-3">
					  <label for="inputNewPassword" class="form-label">New password</label>
					  <div class="input-group">
						<input type="password" class="form-control" id="inputNewPassword" name="newPassword" required>
						<div class="input-group-append">
						  <button class="btn btn-outline-secondary" type="button" id="toggleNewPassword">Show</button>
						</div>
					  </div>
					</div>
					<div class="mb-3">
					  <label for="inputConfirmPassword" class="form-label">Confirm new password</label>
					  <div class="input-group">
						<input type="password" class="form-control" id="inputConfirmPassword" name="confirmNewPassword" required>
						<div class="input-group-append">
						  <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword">Show</button>
						</div>
					  </div>
					</div>
					<button type="submit" class="btn btn-primary">Update password</button>
				  </form>
				  
				  <script>
					// Toggle password visibility for old password field
					const toggleOldPassword = document.querySelector('#toggleOldPassword');
					const inputOldPassword = document.querySelector('#inputOldPassword');
				  
					toggleOldPassword.addEventListener('click', function() {
					  const type = inputOldPassword.getAttribute('type') === 'password' ? 'text' : 'password';
					  inputOldPassword.setAttribute('type', type);
					  this.textContent = type === 'password' ? 'Show' : 'Hide';
					});
				  
					// Toggle password visibility for new password field
					const toggleNewPassword = document.querySelector('#toggleNewPassword');
					const inputNewPassword = document.querySelector('#inputNewPassword');
				  
					toggleNewPassword.addEventListener('click', function() {
					  const type = inputNewPassword.getAttribute('type') === 'password' ? 'text' : 'password';
					  inputNewPassword.setAttribute('type', type);
					  this.textContent = type === 'password' ? 'Show' : 'Hide';
					});
				  
					// Toggle password visibility for confirm password field
					const toggleConfirmPassword = document.querySelector('#toggleConfirmPassword');
					const inputConfirmPassword = document.querySelector('#inputConfirmPassword');
				  
					toggleConfirmPassword.addEventListener('click', function() {
					  const type = inputConfirmPassword.getAttribute('type') === 'password' ? 'text' : 'password';
					  inputConfirmPassword.setAttribute('type', type);
					  this.textContent = type === 'password' ? 'Show' : 'Hide';
					});
				  </script>
				  
			</div>
		</div>
 
	
</div>

	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</body>
</html>
